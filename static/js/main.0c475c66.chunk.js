(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c,r,a,s,l,i,o,j,b,u,d=n(1),h=n(17),O=n(2),x=n(4),m=n(5),f=n(9),p={hp_:"HP%",er:"Energy Recharge",hydroD:"Hydro DMG Bonus",cRate:"CRIT Rate",cDmg:"CRIT DMG",CA:"Charged Attack",ES:"Elemental Skill",EB:"Elemental Burst",hydroRd:"Hydro RES Reduction"},v=n(3),g=n(21),y=n(7),R=n(8),S={lightRed:"#F38181",darkRed:"#88222c",lightYellow:"#FCE38A",lightGreen:"#95E1D3"},B=n(0),T=["color","b"],C=Object(R.a)((function(e){e.color,e.b;var t=Object(g.a)(e,T);return Object(B.jsx)("span",Object(v.a)({},t))}))(c||(c=Object(y.a)(["\n  color: ",";\n  font-weight: ",";\n"])),(function(e){var t=e.color;return S[t]||t}),(function(e){return e.b?700:400})),E=function(e){return Object(B.jsx)(C,Object(v.a)({color:"blue"},e))},A=function(e){return Object(B.jsx)(C,Object(v.a)({color:"blue",b:!0},e))},M=R.a.div(r||(r=Object(y.a)(["\n  margin-top: 1rem;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  .static_config {\n    max-width: 23rem;\n    display: flex;\n    flex-direction: column;\n    & > div {\n      max-height: 34.325rem;\n      overflow: auto;\n    }\n  }\n"]))),w=R.a.div(a||(a=Object(y.a)(["\n  height: 100%;\n  border-radius: 0.5rem;\n  padding: 1rem;\n  background-color: ",";\n  & > *:not(:last-child) {\n    margin-bottom: 1rem;\n  }\n"])),S.lightYellow),D=R.a.p(s||(s=Object(y.a)(["\n  padding: 0.25rem 1rem 0;\n  background: ",";\n  font-weight: 700;\n  font-size: 1.125rem;\n  line-height: 1.6;\n  cursor: pointer;\n  &.active {\n    background: ",";\n  }\n"])),S.lightGreen,S.lightRed),N=R.a.div(l||(l=Object(y.a)(["\n  padding: 0 0.5rem;\n  background-color: ",";\n"])),S.lightYellow),H=R.a.div(i||(i=Object(y.a)(["\n  height: 0;\n  transition: ",";\n  &.open {\n    height: ",";\n  }\n"])),(function(e){return e.transition}),(function(e){return e.openHeight})),P=R.a.div(o||(o=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  & > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"])),(function(e){return e.space||"1rem"})),k=R.a.div(j||(j=Object(y.a)(["\n  display: flex;\n  cursor: pointer;\n  & > p {\n    padding: 0.5rem 0.375rem 0.25rem;\n    background-color: ",";\n  }\n  & > p.active {\n    background-color: ",";\n  }\n  & > p:not(:last-child) {\n    border-right: 1px solid ",";\n  }\n"])),S.lightGreen,S.lightRed,S.lightYellow),F=R.a.div(b||(b=Object(y.a)(["\n  border-top: 1px solid black;\n  border-bottom: 1px solid black;\n  padding: 0.75rem 0;\n"]))),G=R.a.div(u||(u=Object(y.a)(["\n  position: fixed;\n  top: 1rem;\n  right: 0rem;\n  z-index: 2;\n  .handle {\n    padding: 0.5rem;\n    border: 1px solid black;\n    border-radius: 0.5rem 0 0 0.5rem;\n    border-right: none;\n    background-color: ",";\n    cursor: pointer;\n  }\n  .content_wrapper {\n    width: 0;\n    border-radius: 0.5rem 0 0 0.5rem;\n    background-color: #928afc;\n    overflow: hidden;\n    transition: 200ms ease-in-out;\n  }\n  .content_wrapper.open {\n    width: calc(100vw - 1rem);\n    border: 1px solid black;\n    border-right: none;\n    @media (min-width: 400px) {\n      width: 350px;\n    }\n  }\n  .content {\n    width: calc(100vw - 1rem);\n    padding: 1rem;\n    @media (min-width: 400px) {\n      width: 350px;\n    }\n  }\n\n  h3 {\n    text-align: center;\n  }\n  textarea {\n    width: 100%;\n    padding: 0.5rem;\n    font-size: 1rem;\n    resize: vertical;\n  }\n  input {\n    width: 6rem;\n    padding: 0.25rem;\n    font-size: 1rem;\n  }\n"])),S.lightRed),I=["1/20","20/20","20/40","40/40","40/50","50/50","50/60","60/60","60/70","70/70","70/80","80/80","80/90","90/90"],K={"HP%":["4.08","4.66","5.25","5.83"],"CRIT Rate":["2.72","3.11","3.50","3.89"],"CRIT DMG":["5.44","6.22","6.99","7.77"]};function z(e){var t={};return I.forEach((function(n,c){t[n]=e[c]})),t}function _(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return""===e?0:!isNaN(e)&&e>=c&&e<=n?"."===e.slice(-1)?e:Math.round(10*e)/10:t}function L(e,t){var n=t-e+1;return e+Math.floor(Math.random()*n)}var W=function(e){return Math.round(100*e)/100},q=function(e){return Math.round(1e4*e)/1e4},Y={23:z([23,56,68,102,113,130,141,158,169,185,185,185,185,185]),33:z([33,80,91,139,151,174,186,209,220,243,243,243,243,243]),38:z([38,86,105,151,171,193,212,234,253,274,294,314,334,354]),39:z([39,94,113,169,189,216,236,263,282,309,329,355,375,401]),40:z([40,102,121,187,207,239,259,292,311,344,363,396,415,448]),41:z([41,99,125,184,210,238,264,293,319,347,373,401,427,454]),42:z([42,109,135,205,231,266,292,327,353,388,414,449,475,510]),44:z([44,119,144,226,252,293,319,361,387,429,455,497,523,565]),"44b":z([44,110,141,210,241,275,307,341,373,408,439,475,506,542]),46:z([46,122,153,235,266,308,340,382,414,457,488,532,563,608]),45:z([45,128,154,247,273,321,347,395,421,470,496,545,571,620]),48:z([48,133,164,261,292,341,373,423,455,506,537,590,621,674]),49:z([49,145,176,286,317,374,406,464,495,555,586,648,679,741])};function J(e){var t={};return I.forEach((function(n,c){t[n]=e[Math.ceil(c/2)]})),t}var X={"3%":J([3,5.3,7.7,8.9,10.1,11.4,12.6,13.8]),"3.4%":J([3.4,6,8.8,10.1,11.5,12.9,14.2,15.6]),"3.6%":J([3.6,6.4,9.3,10.7,12.2,13.6,15.1,16.5]),"4.5%":J([4.5,8,11.6,13.4,15.2,17,18.9,20.7]),"4.8%":J([4.8,8.5,12.4,14.3,16.2,18.2,20.1,22.1]),"5.1%":J([5.1,9,13.1,15.2,17.3,19.3,21.4,23.4]),"6%":J([6,10.6,15.5,17.9,20.3,22.7,25.1,27.6]),"6.4%":J([6.4,11.3,16.4,19,21.6,24.1,26.7,27.5]),"6.7%":J([6.7,11.8,17.2,19.9,22.6,25.2,27.9,30.6]),"6.8%":J([6.8,12,17.5,20.3,23,25.7,28.5,31.2]),"7.2%":J([7.2,12.7,18.5,21.4,24.4,27.3,30.2,33.1]),"7.5%":J([7.5,13.3,19.3,22.4,25.4,28.4,31.5,34.5]),"7.7%":J([7.7,13.5,19.7,22.8,25.9,29,32.1,35.2]),"8%":J([8,14.1,20.6,23.8,27.1,30.3,33.5,36.8]),"8.5%":J([8.5,15,21.9,25.3,28.8,32.2,35.6,39]),"9%":J([9,15.9,23.2,26.8,30.4,34.1,37.7,41.3]),"9.6%":J([9.6,16.9,24.6,28.5,32.3,36.2,40.1,43.9]),"10%":J([10,17.7,25.8,29.8,33.8,37.9,41.9,45.9]),"10.2%":J([10.2,18,26.3,30.4,34.6,38.6,42.7,46.9]),"10.8%":J([10.8,19.1,27.8,32.2,36.5,40.9,45.3,49.6]),"11.3%":J([11.3,20,29,33.5,38.1,42.6,47.2,51.7]),"12%":J([12,21.2,30.9,35.7,40.6,45.4,50.3,55.1]),"13.3%":J([13.3,23.6,34.3,39.7,45.1,50.5,55.9,61.3]),"14.4%":J([14.4,25.5,37.1,42.9,48.7,54.5,60.3,66.2]),"15%":J([15,26.5,38.7,44.7,50.8,56.8,62.9,69]),"19.2%":J([19.2,33.9,49.4,57.2,65,72.7,80.4,88.2]),12:J([12,21,31,36,41,45,50,55]),20:J([20,36,53,61,69,77,85,94]),24:J([24,42,62,71,81,91,101,110]),31:J([31,54,79,91,104,116,128,141]),36:J([36,64,93,107,122,136,151,165]),41:J([41,72,105,122,138,154,171,187]),43:J([43,76,111,129,146,164,181,198]),48:J([48,85,124,143,162,182,201,221])},Q=[{name:"Aqua Simulacra",rarity:5,mainStat:{type:"Base ATK",value:Y["44b"]},subStats:[{type:"CRIT DMG",value:X["19.2%"]}],addBnes:function(e){var t=e.ATTRs,n=e.wpRfm;t["HP%"]+=12+4*n},desc:function(e){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(E,{children:"HP"})," is increased by ",Object(B.jsxs)(A,{children:[12+4*e,"%"]}),". When there are opponents near the character equipping this weapon, the"," ",Object(B.jsx)(E,{children:"DMG"})," the character deals is increased by"," ",Object(B.jsxs)(A,{children:[15+5*e,"%"]}),". This effect will still be detected when the character is off-field."]})}},{name:"Skyward Harp",rarity:5,mainStat:{type:"Base ATK",value:Y[48]},subStats:[{type:"CRIT Rate",value:X["4.8%"]}],addBnes:function(e){var t=e.ATTRs,n=e.wpRfm;t["CRIT DMG"]+=15+5*n},desc:function(e){return Object(B.jsxs)(B.Fragment,{children:["Increases ",Object(B.jsx)(E,{children:"CRIT DMG"})," by ",Object(B.jsxs)(A,{children:[15+5*e,"%"]}),". Hits have a ",Object(B.jsxs)(A,{children:[50+10*e,"%"]})," ",Object(B.jsx)(E,{children:"chance"})," to inflict a small AoE attack, dealing ",Object(B.jsx)(E,{children:"125% Physical ATK DMG"}),". Can only occur once every ",4.5-.5*e,"s."]})}},{name:"Elegy for the End",rarity:5,mainStat:{type:"Base ATK",value:Y[46]},subStats:[{type:"Energy Recharge",value:X["12%"]}],desc:function(e){return Object(B.jsxs)(B.Fragment,{children:['A part of the "Millennial Movement" that wanders amidst the winds. Increases ',Object(B.jsx)(E,{children:"Elemental Mastery"})," by"," ",Object(B.jsx)(A,{children:45+15*e}),'. When Elemental Skill or Elemental Burst hit opponents, the character gains a Sigil of Remembrance. This effect can be triggered once every 0.2s and can be triggered even if said character is not on the field. When you possess four Sigils of Remembrance, all of them will be consumed and all nearby party members will obtain the "Millennial Movement: Farewell Song" effect for 12s. "Millennial Movement: Farewell Song" increases'," ",Object(B.jsx)(E,{children:"Elemental Mastery"})," by ",Object(B.jsx)(A,{children:75+25*e})," and increases ",Object(B.jsx)(E,{children:"ATK"})," by ",Object(B.jsxs)(A,{children:[15+5*e,"%"]}),'. Once this effect is triggered, you will not gain Sigils of Remembrance for 20s. Of the many effects of the "Millennial Movement", buffs of the same type will not stack.']})}},{name:"Fading Twilight",rarity:4,mainStat:{type:"Base ATK",value:Y[44]},subStats:[{type:"Energy Recharge",value:X["6.7%"]}],desc:function(e){return Object(B.jsxs)(B.Fragment,{children:["Has three states, Evengleam (1), Afterglow (2), and Dawnblaze (3), which increase ",Object(B.jsx)(E,{children:"DMG"})," dealt by"," ",Object(B.jsx)(A,{children:[4.5+1.5*e,7.5+2.5*e,10.5+3.5*e].map((function(e){return e+"%"})).join("/")})," ","respectively. When attacks hit opponents, this weapon will switch to the next state. This weapon can change states once every 7s. The character equipping this weapon can still trigger the state switch while not on the field."]})}},{name:"Sacrificial Bow",rarity:4,mainStat:{type:"Base ATK",value:Y[44]},subStats:[{type:"Energy Recharge",value:X["6.7%"]}],desc:function(e){return Object(B.jsxs)(B.Fragment,{children:["After dealing damage to an opponent with an Elemental Skill, the skill has a ",Object(B.jsxs)(A,{children:[30+10*e,"%"]})," ",Object(B.jsx)(E,{children:"chance"})," to end its own CD. Can only occur once every"," ",Object(B.jsxs)(A,{children:[[0,30,26,22,19,16][e],"s"]}),"."]})}},{name:"The Stringless",rarity:4,mainStat:{type:"Base ATK",value:Y[42]},subStats:[{type:"Elemental Mastery",value:X[36]}],addBnes:function(e){var t=e.bonuses,n=18+6*e.wpRfm;t.ES+=n,t.EB+=n},desc:function(e){return Object(B.jsxs)(B.Fragment,{children:["Increases ",Object(B.jsx)(E,{children:"Elemental Skill"})," and"," ",Object(B.jsx)(E,{children:"Elemental Burst DMG"})," by ",Object(B.jsxs)(A,{children:[18+6*e,"%"]}),"."]})}},{name:"Favonius Warbow",rarity:4,mainStat:{type:"Base ATK",value:Y[41]},subStats:[{type:"Energy Recharge",value:X["13.3%"]}],desc:function(e){return Object(B.jsxs)(B.Fragment,{children:["CRIT hits have a ",Object(B.jsxs)(A,{children:[50+10*e,"%"]})," ",Object(B.jsx)(E,{children:"chance"})," ","to generate a small amount of Elemental Particles, which will regenerate"," ",Object(B.jsx)(A,{children:"6"})," ",Object(B.jsx)(E,{children:"Energy"})," for the character. Can only occur once every ",Object(B.jsxs)(A,{children:[13.5-1.5*e,"s"]}),"."]})}},{name:"Recurve Bow",rarity:3,mainStat:{type:"Base ATK",value:Y[38]},subStats:[{type:"HP%",value:X["10.2%"]}],desc:function(e){return Object(B.jsxs)(B.Fragment,{children:["Defeating an opponent restores ",6+2*e,"% HP."]})}},{name:"Sharpshooter's Oath",rarity:3,mainStat:{type:"Base ATK",value:Y[39]},subStats:[{type:"CRIT DMG",value:X["10.2%"]}],desc:function(e){return Object(B.jsxs)(B.Fragment,{children:["Increases ",Object(B.jsx)(E,{children:"DMG"})," against weak spots by"," ",Object(B.jsxs)(A,{children:[18+6*e,"%"]}),"."]})}},{name:"Slingshot",rarity:3,mainStat:{type:"Base ATK",value:Y[38]},subStats:[{type:"CRIT Rate",value:X["6.8%"]}],desc:function(e){return Object(B.jsxs)(B.Fragment,{children:["If a ",Object(B.jsx)(E,{children:"Normal or Charged Attack"})," hits a target within 0.3s of being fired, increases ",Object(B.jsx)(E,{children:"DMG"})," by"," ",Object(B.jsxs)(A,{children:[30+6*e,"%"]}),". Otherwise, decreases DMG by 10%."]})}}],U=Q,V={vision:"Hydro",weapon:"Bow",stats:z([{"Base HP":1125,"Base ATK":19,"Base DEF":43},{"Base HP":2918,"Base ATK":49,"Base DEF":111},{"Base HP":3883,"Base ATK":66,"Base DEF":147},{"Base HP":5810,"Base ATK":98,"Base DEF":220},{"Base HP":6495,"Base ATK":110,"Base DEF":246,"CRIT Rate":4.8},{"Base HP":7472,"Base ATK":126,"Base DEF":283,"CRIT Rate":4.8},{"Base HP":8386,"Base ATK":142,"Base DEF":318,"CRIT Rate":9.6},{"Base HP":9374,"Base ATK":158,"Base DEF":355,"CRIT Rate":9.6},{"Base HP":10059,"Base ATK":170,"Base DEF":381,"CRIT Rate":9.6},{"Base HP":11056,"Base ATK":187,"Base DEF":419,"CRIT Rate":9.6},{"Base HP":11741,"Base ATK":198,"Base DEF":445,"CRIT Rate":14.4},{"Base HP":12749,"Base ATK":215,"Base DEF":483,"CRIT Rate":14.4},{"Base HP":13434,"Base ATK":227,"Base DEF":509,"CRIT Rate":19.2},{"Base HP":14450,"Base ATK":244,"Base DEF":548,"CRIT Rate":19.2}]),actvTalents:[{type:"CA",name:"Breakthrough Barb DMG",baseMult:11.58,multType:2},{type:"ES",name:"Skill DMG",baseMult:22.61,multType:2},{type:"EB",name:"Exquisite Throw DMG (x3)",baseMult:4.87,multType:2}]},Z={1:[0,1,1.08,1.16,1.275,1.35,1.45,1.575,1.7,1.8373,1.9768,2.1264,2.3245,2.5125,2.7,2.906],2:[0,1,1.075,1.15,1.25,1.325,1.4,1.5,1.6,1.7,1.8,1.9,2,2.125,2.25,2.375],3:[0,1,1.1,1.2,1.325,1.45,1.575,1.725,1.875,2.025,2.2,2.375,2.55,2.75,2.95,3.16],4:[0,1,1.068,1.136,1.227,1.295,1.375,1.477,1.579,1.682,1.784,1.886,1.989,2.091,2.193,2.295],5:[0,1,1.06,1.12,1.198,1.258,1.318,1.396,1.474,1.552,1.629,1.708,1.784,1.862,1.94,2.018],6:[0,1,1.108,1.216,1.351,1.473,1.595,1.757,1.919,2.081,2.243,2.405,2.568,2.703,2.838,2.973],7:[0,1,1.081,1.163,1.279,1.361,1.454,1.581,1.709,1.837,1.977,2.116,2.256,2.395,2.535,2.675],8:[0,1,1.075,1.15,1.25,1.325,1.4,1.5,1.6,1.7,1.8,1.904,2.04,2.176,2.312,2.448]},$=p.hp_,ee=p.er,te=p.hydroD,ne=p.cRate,ce=p.cDmg,re=p.hydroRd;function ae(e,t,n,c,r,a){var s,l=(s={"Base HP":0,HP:0},Object(O.a)(s,$,0),Object(O.a)(s,"Base ATK",0),Object(O.a)(s,"ATK",0),Object(O.a)(s,"ATK%",0),Object(O.a)(s,ne,5),Object(O.a)(s,ce,50),Object(O.a)(s,ee,100+r),Object(O.a)(s,te,0),s),i={CA:0,ES:0,EB:0},o=Object(O.a)({},re,0);!function(e,t){for(var n=V.stats[t.level],c=0,r=Object.keys(n);c<r.length;c++){var a=r[c];void 0!==e[a]&&(e[a]+=n[a])}}(l,e),function(e,t,n){var c=U.find((function(e){return e.name===n.name}));e.ATK+=c.mainStat.value[n.level];var r=c.subStats[0],a=r.type,s=r.value;void 0!==e[a]&&(e[a]+=s[n.level]),c.addBnes&&c.addBnes({ATTRs:e,bonuses:t,wpRfm:n.refinement})}(l,i,t),function(e,t){e.HP+=4780,e.ATK+=311;for(var n=0,c=["Sands","Goblet","Circlet"];n<c.length;n++){var r,a=t[c[n]].type,s=(r={},Object(O.a)(r,$,46.6),Object(O.a)(r,ee,51.8),Object(O.a)(r,te,46.6),Object(O.a)(r,ne,31.1),Object(O.a)(r,ce,61.2),r);e[a]+=s[a]}}(l,n),function(e,t,n,c){for(var r=0,a=Object.keys(c);r<a.length;r++){var s=a[r];[$,ee,te].includes(s)?e[s]+=c[s]:s===re?n[s]+=c[s]:t[s]+=c[s]}}(l,i,o,a),function(e,t,n){var c,r=Object(f.a)(n);try{for(r.s();!(c=r.n()).done;){var a=c.value;if(a)if("2P TotM"===a)e[$]+=20;else if("2P HoD"===a)e[te]+=15;else if("2P NO"===a)t.EB+=20;else if(e[ee]+=20,"4"===a.slice(0,1)){var s=e[ee]/4;t.EB+=Math.min(W(s),75)}}}catch(l){r.e(l)}finally{r.f()}}(l,i,c);for(var j=0,b=["CA","ES","EB"];j<b.length;j++){i[b[j]]+=l[te]}var u=function(e){var t=10-e[re];return(t/=100)<0?1-t/2:t>=.75?1/(4*t+1):1-t}(a);return[l,i,u]}function se(e,t){return"Random"===e[t]?+K[t][L(0,3)]:+e[t]}var le=n(6),ie=function(){return Object(B.jsx)("span",{className:"ml-1",children:"%"})};function oe(e){var t=e.children;return Object(B.jsx)("div",{className:"p-2",children:Object(B.jsx)(w,{children:t})})}function je(e){var t=e.headingList,n=e.contentList,c=Object(d.useState)([]),r=Object(x.a)(c,2),a=r[0],s=r[1];return Object(B.jsx)("div",{children:t.map((function(e,t){return Object(B.jsxs)("div",{className:t?"mt-2":"",children:[Object(B.jsx)(D,{className:"mb-2p5"+(a[t]?" active":""),onClick:function(){return s((function(e){var n=Object(le.a)(e);return n[t]=!n[t],n}))},children:e}),Object(B.jsx)(be,{in:Boolean(a[t]),children:Object(B.jsx)(N,{children:n[t]})})]},t)}))})}function be(e){var t=function(){var e=Object(d.useRef)(),t=Object(d.useState)(0),n=Object(x.a)(t,2),c=n[0],r=n[1];return Object(d.useEffect)((function(){var t=new ResizeObserver((function(e){var t,n=Object(f.a)(e);try{for(n.s();!(t=n.n()).done;){var c=t.value;if(c.contentBoxSize){var a=Array.isArray(c.contentBoxSize)?c.contentBoxSize[0]:c.contentBoxSize;r(a.blockSize)}else r(c.contentRect.height)}}catch(s){n.e(s)}finally{n.f()}})),n=e.current;return t.observe(n),function(){return t.unobserve(n)}}),[]),[e,c]}(),n=Object(x.a)(t,2),c=n[0],r=n[1];return Object(B.jsx)(H,{className:"hide-sb"+(e.in?" open":""),transition:"height ".concat(Math.max(Math.min(Math.round(r)/2,300),150),"ms ease-in-out"),openHeight:r+"px",children:Object(B.jsx)("div",{ref:c,children:e.children})})}var ue=["4.53","5.18","5.83","6.48"],de=p.er;function he(e){var t=e.avaRolls,n=e.rollConfig,c=e.setRollConfig,r=n[de],a=r.rolls,s=r.value,l=r.total,i=t.total-38,o=Math.max(i,0);Object(d.useEffect)((function(){i>=0&&n[de].rolls<i&&c(Object(m.a)((function(e){e[de].rolls=i,Oe(e,e[de].value)})))}),[i]);return Object(B.jsxs)(F,{children:[Object(B.jsx)("h4",{children:"Energy Recharge:"}),Object(B.jsxs)(P,{className:"mt-2 pt-2 pl-2 pr-1",children:[Object(B.jsxs)("p",{children:["Min. rolls required: ",Object(B.jsx)("b",{children:o})]}),Object(B.jsxs)("p",{children:["Max. rolls available: ",Object(B.jsx)("b",{children:t.er})]}),Object(B.jsxs)("div",{className:"line-1",children:[Object(B.jsx)("p",{children:"Number of rolls"}),Object(B.jsx)("input",{value:a,onChange:function(e){return c(Object(m.a)((function(n){n[de].rolls=_(e.target.value,a,t.er),Oe(n,n[de].value)})))},onBlur:function(e){e.target.value<o&&c(Object(m.a)((function(e){e[de].rolls=o,Oe(e,e[de].value)})))}})]}),Object(B.jsxs)("div",{className:"flex-wrap",children:[Object(B.jsxs)("div",{className:"line-1",children:[Object(B.jsx)("p",{children:"Roll value"}),Object(B.jsx)("select",{value:s,onChange:function(e){return c(Object(m.a)((function(t){var n=e.target.value;t[de].value=n,Oe(t,n)})))},children:ue.concat("Random").map((function(e){return Object(B.jsx)("option",{children:e},e)}))}),Object(B.jsx)(ie,{})]}),Object(B.jsx)("button",{className:"ml-3"+(a?"":" unavailable"),onClick:function(){return c(Object(m.a)((function(e){e[de].value="Random",e[de].total=W(xe(e[de].rolls))})))},children:"Random"})]}),Object(B.jsxs)("p",{children:["Total ER Bonus: ",Object(B.jsxs)("b",{children:[l,"%"]})]})]})]})}function Oe(e,t){e[de].total=W("Random"===t?xe(e[de].rolls):e[de].value*e[de].rolls)}function xe(e){for(var t=0,n=0;n<e;n++)t+=+ue[L(0,3)];return t}var me=p.hp_,fe=p.cRate,pe=p.cDmg;function ve(e){var t=e.avaRolls,n=e.avaHpRolls,c=e.rollConfig,r=e.setRollConfig,a=function(e){return function(t){return r(Object(m.a)((function(n){n[e]=t.target.value})))}};return Object(B.jsxs)(oe,{children:[Object(B.jsx)("h2",{children:"Roll Config"}),Object(B.jsxs)("p",{children:["Total rolls available: ",Object(B.jsx)("b",{children:t.total})]}),Object(B.jsx)(he,{avaRolls:t,rollConfig:c,setRollConfig:r}),Object(B.jsxs)("p",{children:["HP% rolls available: ",Object(B.jsx)("b",{children:n})]}),[me,fe,pe].map((function(e){return Object(B.jsxs)("div",{className:"line-1",children:[Object(B.jsxs)("p",{children:[e," roll value"]}),Object(B.jsx)("select",{value:c[e],onChange:a(e),children:[].concat(Object(le.a)(K[e]),["Random"]).map((function(e){return Object(B.jsx)("option",{children:e},e)}))}),Object(B.jsx)(ie,{})]},e)}))]})}var ge=function(e){var t=e.artSets,n=e.i,c=e.setArtSets;return Object(B.jsxs)("div",{className:"line-1",children:[Object(B.jsx)("p",{children:"Set"}),Object(B.jsx)("select",{value:t[n],onChange:function(e){c((function(t){var c=e.target.value;if(n)return[t[0],c];var r=null;if("4P EoSF"!==c&&!(r=t[1])){var a,s=Object(f.a)(Be.slice(1));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l!==c){r=l;break}}}catch(i){s.e(i)}finally{s.f()}}return[c,r]}))},children:Be.slice(n).map((function(e){return Object(B.jsx)("option",{children:e},e)}))})]})};function ye(e){var t,n=e.artStats,c=e.artSets,r=e.setArtStats,a=e.setArtSets,s=Object(d.useState)("Flower"),l=Object(x.a)(s,2),i=l[0],o=l[1],j=["Flower","Plume"].includes(i),b=j||(null===(t=n[i])||void 0===t?void 0:t.type)===p.hydroD?9:8;return Object(B.jsxs)(P,{className:"px-2 py-3",children:[Object(B.jsx)("p",{children:"(All piece Level 20)"}),Object(B.jsx)(ge,{artSets:c,i:0,setArtSets:a}),"4P EoSF"!==c[0]&&Object(B.jsx)(ge,{artSets:c,i:1,setArtSets:a}),Object(B.jsx)(k,{children:Object.keys(n).map((function(e){return Object(B.jsx)("p",{className:i===e?"active":"",onClick:function(){return o(e)},children:e},e)}))}),Object(B.jsxs)("div",{className:"mt-1",children:[!j&&Object(B.jsxs)("div",{className:"line-1",children:[Object(B.jsx)("p",{children:"Main Stat"}),Object(B.jsx)("select",{value:n[i].type,onChange:function(e){return r(Object(m.a)((function(t){var n=e.target.value;t[i].type=n,n===p.hp_&&9===t[i].rolls&&(t[i].rolls=8)})))},children:Se[i].map((function(e){return Object(B.jsx)("option",{children:e},e)}))})]}),Object(B.jsxs)("div",{className:"line-1"+(j?"":" mt-3"),children:[Object(B.jsx)("p",{children:"Good rolls (ER / HP% / Crit)"}),Object(B.jsx)("select",{value:n[i].rolls,onChange:function(e){return r(Object(m.a)((function(t){t[i].rolls=+e.target.value})))},children:Object(le.a)(Array(b).keys()).map((function(e,t){return Object(B.jsx)("option",{children:t+1},t)}))})]})]})]})}var Re=p.hp_,Se={Sands:[Re,p.er],Goblet:[Re,p.hydroD],Circlet:[Re,p.cRate,p.cDmg]},Be=["4P EoSF","2P EoSF","2P TotM","2P HoD","2P NO"],Te=["Energy Recharge","CRIT Rate","CRIT DMG","Hydro DMG Bonus"];function Ce(e){var t=e.ATTRs;return Object(B.jsxs)(oe,{children:[Object(B.jsx)("h2",{children:"Attributes"}),["HP","ATK"].map((function(e){var n=t["Base ".concat(e)],c=t[e],r=t["".concat(e,"%")],a=Math.round(n*r/100),s=n.toString();return c&&(s+=" + ".concat(c)),r&&(s+=" + ".concat(a," (").concat(r,"%)")),Object(B.jsx)("div",{className:"line-1",children:Object(B.jsxs)("p",{children:[e,": ",s,(c||r)&&Object(B.jsxs)(B.Fragment,{children:[" ","= ",Object(B.jsx)("b",{children:n+c+a})]})]})},e)})),Te.map((function(e){return Object(B.jsx)("div",{className:"line-1",children:Object(B.jsxs)("p",{children:[e,": ",Object(B.jsxs)("b",{children:[W(t[e]),"%"]})]})},e)}))]})}function Ee(e){var t=e.char,n=e.setChar;return Object(B.jsxs)(P,{className:"px-2 py-3",children:[Object(B.jsxs)("div",{className:"line-1",children:[Object(B.jsx)("p",{children:"Level"}),Object(B.jsx)("select",{value:t.level,onChange:function(e){return n((function(t){return Object(v.a)(Object(v.a)({},t),{},{level:e.target.value})}))},children:I.map((function(e){return Object(B.jsx)("option",{children:e},e)}))})]}),["CA","ES","EB"].map((function(e){return Object(B.jsxs)("div",{className:"line-1",children:[Object(B.jsx)("p",{children:p[e]}),Object(B.jsx)("select",{value:t[e],onChange:function(t){return n((function(n){return Object(v.a)(Object(v.a)({},n),{},Object(O.a)({},e,t.target.value))}))},children:Object(le.a)(Array(15).keys()).map((function(e,t){return Object(B.jsx)("option",{children:t+1},t)}))})]},e)}))]})}function Ae(e){var t=e.mods,n=e.setMods;return Object(B.jsx)(P,{className:"px-2 py-3",children:Object.keys(t).map((function(e){var c=p[e];return Object(B.jsxs)("div",{className:"line-1",children:[Object(B.jsx)("p",{children:c?c+" DMG Bonus":e}),Object(B.jsx)("input",{value:t[e],onChange:function(c){return n((function(n){return Object(v.a)(Object(v.a)({},n),{},Object(O.a)({},e,_(c.target.value,t[e],9999)))}))}}),Object(B.jsx)(ie,{})]},e)}))})}function Me(e){var t=e.wp,n=e.setWp,c=U.find((function(e){return e.name===t.name}));return Object(B.jsxs)(P,{className:"px-2 py-3",children:[Object(B.jsxs)("div",{className:"line-1",children:[Object(B.jsx)("p",{children:"Name"}),Object(B.jsx)("select",{value:t.name,onChange:function(e){return n((function(t){return Object(v.a)(Object(v.a)({},t),{},{name:e.target.value})}))},children:U.map((function(e){var t=e.name;return Object(B.jsx)("option",{children:t},t)}))})]}),Object(B.jsxs)("div",{className:"line-1",children:[Object(B.jsx)("p",{children:"Level"}),Object(B.jsx)("select",{value:t.level,onChange:function(e){return n((function(t){return Object(v.a)(Object(v.a)({},t),{},{level:e.target.value})}))},children:I.map((function(e){return Object(B.jsx)("option",{children:e},e)}))})]}),Object(B.jsxs)("div",{className:"line-1",children:[Object(B.jsx)("p",{children:"Refinement"}),Object(B.jsx)("select",{value:t.refinement,onChange:function(e){return n((function(t){return Object(v.a)(Object(v.a)({},t),{},{refinement:+e.target.value})}))},children:Object(le.a)(Array(5).keys()).map((function(e,t){return Object(B.jsx)("option",{children:t+1},t)}))})]}),Object(B.jsx)("p",{children:null===c||void 0===c?void 0:c.desc(t.refinement)})]})}n(31);function we(e){var t=e.bonuses,n=e.level,c=e.res,r=e.resMult,a=e.startSim,s=+n.slice(0,2);return Object(B.jsxs)(oe,{children:[Object(B.jsxs)(P,{space:"0.5rem",children:[Object(B.jsx)("h2",{children:"Total DMG Bonus"}),Object.keys(t).map((function(e){return Object(B.jsxs)("p",{children:[p[e],": ",Object(B.jsxs)("b",{children:[W(t[e]),"%"]})]},e)}))]}),Object(B.jsxs)(P,{space:"0.5rem",children:[Object(B.jsx)("h2",{children:"DEF Multiplier"}),Object(B.jsx)("p",{children:"Assume target's level is equal to Yelan."}),Object(B.jsxs)("p",{children:["(",s," + 100) / (",s," + ",s," + 200) = ",Object(B.jsx)("b",{children:"0.5"})]})]}),Object(B.jsxs)(P,{space:"0.5rem",children:[Object(B.jsx)("h2",{children:"Hydro RES Multiplier"}),Object(B.jsx)("p",{children:"Assume target's Hydro RES is 10%."}),Object(B.jsxs)("p",{children:["RES after reduction: 10 - ",c," = ",10-c,"%"]}),Object(B.jsxs)("p",{children:["Multiplier: ",De(10-c,r)]})]}),Object(B.jsx)("button",{className:"full-w pt-2",onClick:a,children:"ROLL"})]})}function De(e,t){var n=e/100;if(n<0){var c=1-n/2;return Object(B.jsxs)(B.Fragment,{children:["1 - (",n,") / 2 ="," ",Object(B.jsxs)("b",{children:[c," ",c!==t&&"!!!"]})]})}if(n>=.75){var r=1/(4*n+1);return Object(B.jsxs)(B.Fragment,{children:["1 / (4 * ",n," + 1) ="," ",Object(B.jsxs)("b",{children:[r," ",r!==t&&"!!!"]})]})}var a=1-n;return Object(B.jsxs)(B.Fragment,{children:["1 - ",n," ="," ",Object(B.jsxs)("b",{children:[a," ",a!==t&&"!!!"]})]})}var Ne=p.hp_,He=p.cRate,Pe=p.cDmg,ke=V.actvTalents.map((function(e){return e.baseMult})),Fe=function(){return Object(B.jsx)(C,{color:"blue",children:"\u2022"})};function Ge(e){var t=e.ATTRs,n=e.bonuses,c=e.resMult,r=e.char,a=e.results;if(!a)return null;var s=a.hpRS,l=a.cRateRS,i=a.cDmgRS,o=a.dmg,j=a.states,b=Object(le.a)(Array(o.length).keys()).map((function(e,t){return t})),u={};["CA","ES","EB"].forEach((function(e,t){u[e]=Math.round(ke[t]*Z[2][r[e]]*100)/1e4}));var d=b.map((function(e){return Object(B.jsxs)(C,{children:[Object(B.jsx)("b",{children:s[e].length})," HP% rolls."," ",Object(B.jsx)("b",{children:l[e].length+i[e].length})," Crit rolls. Average DMG:",Object(B.jsx)("b",{children:o[e].CA})," / ",Object(B.jsx)("b",{children:o[e].ES})," / ",Object(B.jsx)("b",{children:o[e].EB})]})}));return Object(B.jsxs)("div",{className:"mt-3",children:[Object(B.jsx)("h2",{className:"mb-3",children:"Roll Results"}),Object(B.jsx)(je,{headingList:d,contentList:b.map((function(e){return Object(B.jsx)(Ie,{hpRolls:s[e],cRateRolls:l[e],cDmgRolls:i[e],ATTRs:t,bonuses:n,resMult:c,mult:u,state:j[e]},e)}))})]})}function Ie(e){var t=e.hpRolls,n=e.cRateRolls,c=e.cDmgRolls,r=e.ATTRs,a=e.bonuses,s=e.resMult,l=e.mult,i=e.state,o=q(1+i[Ne]/100),j=Math.round(r["Base HP"]*o)+r.HP,b=q(i[He]/100),u=q(i[Pe]/100),d=q(1+b*u);return Object(B.jsxs)("div",{className:"p-1",children:[Object(B.jsxs)("p",{children:[Object(B.jsx)(Fe,{})," HP% rolls (",t.length,"): [",t.join(", "),"]"]}),Object(B.jsxs)("p",{children:[Object(B.jsx)(Fe,{})," Crit Rate rolls (",n.length,"): [",n.join(", "),"]"]}),Object(B.jsxs)("p",{children:[Object(B.jsx)(Fe,{})," Crit DMG rolls (",c.length,"): [",c.join(", "),"]"]}),Object(B.jsxs)("p",{children:[Object(B.jsx)(Fe,{})," HP = ",r["Base HP"]," * ",o," + ",r.HP," = ",Object(B.jsx)("b",{children:j})]}),Object(B.jsxs)("p",{children:[Object(B.jsx)(Fe,{})," CRIT Rate = ",Object(B.jsxs)("b",{children:[W(i[He]),"%"]})," | CRIT DMG ="," ",Object(B.jsxs)("b",{children:[W(i[Pe]),"%"]})]}),Object(B.jsxs)("p",{children:[Object(B.jsx)(Fe,{})," CRIT Multiplier = 1 + ",b," * ",u," = ",Object(B.jsx)("b",{children:d})]}),["CA","ES","EB"].map((function(e){var t=1+a[e]/100;return Object(B.jsxs)("p",{children:[Object(B.jsx)(Fe,{})," ",p[e]," Average DMG: ",Object(B.jsx)("b",{children:j})," (hp) *"," ",Object(B.jsx)("b",{children:l[e]})," (talent) * ",Object(B.jsx)("b",{children:t})," (dmg bonus) *"," ",Object(B.jsx)("b",{children:d})," (crit) * ",Object(B.jsx)("b",{children:"0.5"})," (def) * ",Object(B.jsx)("b",{children:s})," (res) ="," ",Object(B.jsx)("b",{children:Math.round(j*l[e]*t*d*.5*s)})]},e)}))]})}function Ke(){var e=Object(d.useState)(!1),t=Object(x.a)(e,2),n=t[0],c=t[1],r=Object(d.useState)([0,0]),a=Object(x.a)(r,2),s=a[0],l=a[1],i=s[1]-s[0],o=Math.floor(i/s[0]*1e4)/100;return Object(B.jsxs)(G,{className:"flex align-start",children:[Object(B.jsx)("div",{className:"handle mt-3",onClick:function(){return c(!n)},children:"Notes"}),Object(B.jsx)("div",{className:"content_wrapper"+(n?" open":""),children:Object(B.jsxs)("div",{className:"content",children:[Object(B.jsxs)("div",{className:"flex align-center",children:[Object(B.jsx)("h3",{className:"mx-auto",children:"Notes"}),Object(B.jsx)("span",{className:"pointer",onClick:function(){return c(!1)},children:Object(B.jsx)("b",{children:"(X)"})})]}),Object(B.jsx)("textarea",{className:"mt-2",rows:10}),Object(B.jsxs)("div",{className:"mt-1 flex-wrap align-center",children:[Object(B.jsx)("p",{className:"mt-2 mr-2",children:Object(B.jsx)("b",{children:"Compare"})}),Object(B.jsxs)("div",{className:"mt-2 flex align-center",children:[Object(B.jsx)("input",{value:s[0],onChange:function(e){return l((function(t){return[_(e.target.value,t[0],9999999),t[1]]}))}}),Object(B.jsx)("p",{className:"mx-2",children:"vs."}),Object(B.jsx)("input",{value:s[1],onChange:function(e){return l((function(t){return[t[0],_(e.target.value,t[0],9999999)]}))}})]})]}),Object(B.jsxs)("p",{className:"mt-3",children:["Result:"," ",s.includes(0)?"Enter 2 values":i+" (".concat(o,"%)")]})]})})]})}var ze=p.hp_,_e=p.er,Le=p.hydroD,We=p.cRate,qe=p.cDmg,Ye=p.hydroRd;function Je(){var e,t,n=Object(d.useState)({level:"90/90",CA:10,ES:10,EB:10}),c=Object(x.a)(n,2),r=c[0],a=c[1],s=Object(d.useState)({name:"Aqua Simulacra",level:"90/90",refinement:1}),l=Object(x.a)(s,2),i=l[0],o=l[1],j=Object(d.useState)(["4P EoSF",null]),b=Object(x.a)(j,2),u=b[0],h=b[1],p=Object(d.useState)({Flower:{rolls:9},Plume:{rolls:9},Sands:{type:ze,rolls:8},Goblet:{type:Le,rolls:9},Circlet:{type:We,rolls:8}}),v=Object(x.a)(p,2),g=v[0],y=v[1],R=Object(d.useState)((e={},Object(O.a)(e,ze,0),Object(O.a)(e,_e,0),Object(O.a)(e,Le,0),Object(O.a)(e,"CA",0),Object(O.a)(e,"ES",0),Object(O.a)(e,"EB",0),Object(O.a)(e,Ye,0),e)),S=Object(x.a)(R,2),T=S[0],C=S[1],E=Object(d.useState)((t={},Object(O.a)(t,_e,{value:"6.48",rolls:0,total:0}),Object(O.a)(t,ze,"5.83"),Object(O.a)(t,We,"3.89"),Object(O.a)(t,qe,"7.77"),t)),A=Object(x.a)(E,2),w=A[0],D=A[1],N=Object(d.useState)(null),H=Object(x.a)(N,2),P=H[0],k=H[1],F=function(e){for(var t=0,n=0,c=0,r=0,a=Object.keys(e);r<a.length;r++){var s=e[a[r]],l=s.type,i=s.rolls;t+=i,"HP%"!==l&&(n+=Math.min(6,i)),"Energy Recharge"!==l&&(c+=Math.min(6,i))}return{total:t,hp:n,er:c}}(g),G=F.total-w[_e].rolls,I=Math.min(G,F.hp),K=ae(r,i,g,u,w[_e].total,T),z=Object(x.a)(K,3),_=z[0],L=z[1],W=z[2];Object(d.useEffect)((function(){F.er<w[_e].rolls&&D(Object(m.a)((function(e){e[_e].rolls=F.er})))}),[F.er]);return Object(B.jsxs)("div",{className:"App",children:[Object(B.jsxs)(M,{children:[Object(B.jsxs)("div",{className:"p-2 static_config",children:[Object(B.jsx)("h1",{className:"mb-2",children:"Yelan"}),Object(B.jsx)("div",{children:Object(B.jsx)(je,{headingList:["Character Config","Weapon Config","Artifacts Config","Modifiers Config"],contentList:[Object(B.jsx)(Ee,{char:r,setChar:a}),Object(B.jsx)(Me,{wp:i,setWp:o}),Object(B.jsx)(ye,{artStats:g,artSets:u,setArtStats:y,setArtSets:h}),Object(B.jsx)(Ae,{mods:T,setMods:C})]})})]}),Object(B.jsx)("div",{className:"flex-col",children:Object(B.jsxs)("div",{className:"flex-wrap",children:[Object(B.jsx)(ve,{avaRolls:F,avaHpRolls:I,rollConfig:w,setRollConfig:D}),Object(B.jsx)(Ce,{ATTRs:_}),Object(B.jsx)(we,{bonuses:L,level:r.level,res:T[Ye],resMult:W,startSim:function(){var e=function(e,t,n,c,r,a,s){var l={states:[],hpRS:[],cRateRS:[],cDmgRS:[],dmg:[]},i={};["CA","ES","EB"].forEach((function(e,t){var n=V.actvTalents[t],c=n.baseMult,l=n.multType,o=c*Z[l][r[e]]/100;i[e]=o*(1+a[e]/100)*.5*s}));for(var o=0;o<=e;o++){for(var j,b,u=(j={},Object(O.a)(j,$,t[$]),Object(O.a)(j,ne,t[ne]),Object(O.a)(j,ce,t[ce]),j),d=(b={},Object(O.a)(b,$,[]),Object(O.a)(b,ne,[]),Object(O.a)(b,ce,[]),b),h=0;h<o;h++){var x=se(n,$);u[$]+=x,d[$].push(x)}for(var m=0;m<c-o;m++){var p=se(n,ne);if(u[ne]<u[ce]/2&&u[ne]+p<100)u[ne]+=p,d[ne].push(p);else{var v=se(n,ce);u[ce]+=v,d[ce].push(v)}}l.states.push(u),l.hpRS.push(d[$]),l.cRateRS.push(d[ne]),l.cDmgRS.push(d[ce]);var g,y={},R=Object(f.a)(V.actvTalents);try{for(R.s();!(g=R.n()).done;){var S=g.value,B=t["Base HP"]*(1+u[$]/100)+t.HP,T=1+u[ne]/100*(u[ce]/100);y[S.type]=Math.round(B*i[S.type]*T)}}catch(C){R.e(C)}finally{R.f()}l.dmg.push(y)}return l}(I,_,w,G,r,L,W);k(e)}})]})})]}),Object(B.jsx)(Ge,{ATTRs:_,bonuses:L,resMult:W,char:r,results:P}),Object(B.jsx)(Ke,{})]})}var Xe=document.getElementById("root");Object(h.createRoot)(Xe).render(Object(B.jsx)(d.StrictMode,{children:Object(B.jsx)(Je,{})}))}},[[32,1,2]]]);
//# sourceMappingURL=main.0c475c66.chunk.js.map